name: MSX Music Assistant Bridge
version: "1.0.0"
slug: msx-ma-bridge
description: Stream Music Assistant library to Smart TVs via MSX
url: https://github.com/your-username/msx-music-assistant
arch:
  - aarch64
  - amd64
  - armhf
  - armv7
  - i386
init: false
startup: services
services:
  - music-assistant:need

ports:
  8099/tcp: 8099
ports_description:
  8099/tcp: Web interface and stream proxy server

webui: "http://[HOST]:[PORT:8099]"
panel_icon: mdi:television-speaker
panel_title: MSX Music Assistant

options:
  log_level: info
  enable_transcoding: true
  output_format: mp3
  output_quality: 320
  cors_allowed_origins:
    - "*"
  stream_buffer_size: 8192
  max_concurrent_streams: 5

schema:
  log_level: list(trace|debug|info|warning|error)
  enable_transcoding: bool
  output_format: list(mp3|aac|opus|flac)
  output_quality: int(128,320)?
  cors_allowed_origins: [str]
  stream_buffer_size: int(4096,65536)?
  max_concurrent_streams: int(1,20)?
  ma_host: str?
  ma_port: port?

image: ghcr.io/{arch}-addon-msx-ma-bridge

healthcheck:
  test: ["CMD", "curl", "-f", "http://localhost:8099/health"]
  interval: 30s
  timeout: 10s
  retries: 3
  start_period: 30s

host_network: false
privileged: false

ingress: true
ingress_port: 8099
ingress_stream_timeout: 3600
